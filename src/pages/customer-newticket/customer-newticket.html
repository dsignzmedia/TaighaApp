<!--
  Generated template for the NewticketsPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header class="header-min taigha-dashboard-header">
      <ion-navbar class="no-right">
    <div class="center">
      <i class="back_icon" (click)="back()"></i> 
      <p class="title">
        <span class="title-head">Create new support ticket</span>
      </p>
    </div>
  </ion-navbar>
</ion-header>
<ion-content padding>
    <ion-grid>
	    <ion-row  no-line>
	        <ion-col col-12 no-padding  no-line>
	        	<ion-label>Priority *</ion-label>
				<ion-item no-padding no-line>
					<ion-select class="filter-select" placeholder="Select"  [(ngModel)]="TicketPriority">
						<ion-option value="{{ priority.id }}" *ngFor=" let  priority of priorities  ">{{ priority.priority }}</ion-option>
					</ion-select>
				</ion-item>
	        </ion-col>
	    </ion-row>
	    <ion-row  no-line>
	        <ion-col col-12 no-padding  no-line>
	        	<ion-label>Property</ion-label>
				<ion-item no-padding no-line class="hasClick" (click)="openSelecttemplate('property')">
					<ion-select class="filter-select" placeholder="Select"  [disabled]="properties.length == 0" [(ngModel)]="TicketProperty" >
						<ion-option value="{{ property.id }}" *ngFor=" let  property of properties  ">{{ property.address }}</ion-option>
					</ion-select>
				</ion-item>
	        </ion-col>
	    </ion-row>
        <ion-row no-line>
	        <ion-col col-12 no-padding>
	           <ion-label>Subject *</ion-label>
	        </ion-col>
	        <ion-col col-12 no-padding class="inline-list">
	           <ion-input placeholder=""   [(ngModel)]="TicketSubject"></ion-input>
	        </ion-col>
        </ion-row>
        <ion-row>
			<ion-col col-12 no-padding>
				<div class="form-field-panel" [class.invalid]="body == '' ">
				<ion-label>Body *</ion-label>
                <quill-editor [style]="{ height: '200px' }" [ngModel]="body" [modules]="{
    toolbar: toolbarOptions
  }" [placeholder] = "'Type here'" (onContentChanged)="getEditorContent($event)" (onEditorCreated)="getEditorInstance($event)"></quill-editor>
             </div>
			</ion-col>
        </ion-row>
        <ion-row>
			<ion-col col-12>
				<div class="form-field-panel">
				<ion-label>Attachments</ion-label>
				<div class="upload-btn-wrapper">
				 <button class="u-btn"><img  src="assets/imgs/upload.svg" width="15" height="15" /> Choose Files</button>
                 <input type="file" class="form-field-input" multiple="multiple" #fileInput (change)="changeListener($event)">
             </div>
             	</div>
             	<div class="attachment-panel-preview-group">
             		<div class="uploaded-images">
                    <img *ngFor="let url of urls" [src]="url" class="rounded mb-3" width="180">
                </div>
                </div>
			</ion-col>
        </ion-row>
	</ion-grid>
	<div class="spinner center" *ngIf="showSpinner">
        <div class="bounce1"></div>
        <div class="bounce2"></div>
        <div class="bounce3"></div>
    </div>
</ion-content>
<div class="sticky-btn">
    <button class="btn btn-hasicon btn-curve clr-btn" > 
      Cancel
    </button>
    <button class="btn btn-hasicon btn-curve seehomebtn" (click) = "storeTicketcustomer()"> 
      Send
    </button>
    
</div>
