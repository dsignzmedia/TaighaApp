<!--
  Generated template for the NewticketsPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
  <ion-navbar class="no-right">
    <ion-col class="center">
      
       <i class="back_icon" (click)="back()"></i>
      <p class="title">Documents</p>
    </ion-col>
  </ion-navbar>
</ion-header>
<ion-content padding>
	<ion-grid class="form-panel" *ngIf="!showSpinner">

		<ion-row>
			<ion-col col-12>
				<div class="form-field-panel">
				<ion-label class="form-field-label">Name *</ion-label>
                <ion-input class="form-field-input" [(ngModel)]="name" placeholder = "Document Name" ></ion-input>
             </div>
			</ion-col>
			<ion-col col-12>
				<div class="form-field-panel">
					<ion-label class="form-field-label">Property *</ion-label>
					<ion-select class="form-field-select" [(ngModel)]="property_id">
					  <ion-option value="0" selected>Select</ion-option>
				      <ion-option value="{{ property.id }}" *ngFor=" let  property of properties  ">{{ property.address }}</ion-option>
				    </ion-select>
				</div>
			</ion-col>
			<ion-col col-12>
				<div class="form-field-panel">
				<ion-label class="form-field-label" >Attachment *</ion-label>
				<div class="upload-btn-wrapper">
				 <button class="u-btn">Choose Files</button>
				<input type="file" [multiple]="multiple" #fileInput (change)="changeListener($event)">
			</div>
				<div>
				    <img *ngFor="let url of urls" [src]="url" class="rounded mb-3" width="180">
				</div>
			</div>
			</ion-col>
		</ion-row>
	
		<ion-row class="btn-row">
    		<ion-col col-6><button ion-button block text-uppercase (click)="back()" class="btn btn-outline-blue">Cancel</button></ion-col>        
    		<ion-col col-6>
    			<button ion-button block text-uppercase class="btn btn-blue" [disabled]=" name == '' || property_id == 0 || urls.length == 0  " (click) = "storeDocument()"  >Save</button>
    		</ion-col>               
    	</ion-row>

	</ion-grid>
	<div class="spinner center" *ngIf="showSpinner">
        <div class="bounce1"></div>
        <div class="bounce2"></div>
        <div class="bounce3"></div>
    </div>
</ion-content>
